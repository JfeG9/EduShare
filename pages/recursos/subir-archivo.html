<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EduShare — Subir archivo</title>
  <link rel="stylesheet" href="../../css/subir-archivo.css" />

  <!-- Iconos lucide: una sola vez -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- pdf.js para miniaturas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  <script>
    if (window['pdfjsLib']) {
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.min.js';
    }
  </script>
</head>
<body>
  <!-- BARRA SUPERIOR -->
  <header class="topbar">
    <div class="logo">
      <button class="menu-toggle" id="menuToggle" aria-label="Abrir menú">
        <i data-lucide="menu"></i>
      </button>
      <img src="../../assets/img/logo.png" alt="Logo EduShare" />
    </div>

    <div class="user-section">
      <button class="user-info" id="userMenuToggle" aria-label="Abrir menú de usuario">
        <i data-lucide="user"></i>
        <span>LupeCR9</span>
        <i data-lucide="chevron-down" class="chevron-icon"></i>
      </button>

      <div class="user-dropdown" id="userDropdown">
        <button type="button" class="user-dropdown-item" id="btnVerPerfil">
          <i data-lucide="id-card"></i>
          <span>Ver perfil</span>
        </button>
        <button type="button" class="user-dropdown-item" id="btnCerrarSesion">
          <i data-lucide="log-out"></i>
          <span>Cerrar sesión</span>
        </button>
      </div>
    </div>
  </header>

  <!-- MENÚ LATERAL -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <span>Menú</span>
      <button class="sidebar-close" id="sidebarClose" aria-label="Cerrar menú">
        <i data-lucide="x"></i>
      </button>
    </div>

    <ul class="sidebar-list">
      <li>
        <button class="sidebar-item">
          <i data-lucide="home"></i>
          <span>Inicio</span>
        </button>
      </li>
      <li>
        <button class="sidebar-item sidebar-item-active">
          <i data-lucide="upload-cloud"></i>
          <span>Subir materiales</span>
        </button>
      </li>
      <li>
        <button class="sidebar-item">
          <i data-lucide="file-text"></i>
          <span>Mis archivos</span>
        </button>
      </li>
      <li>
        <button class="sidebar-item">
          <i data-lucide="calendar-days"></i>
          <span>Calendario</span>
        </button>
      </li>
      <li>
        <button class="sidebar-item">
          <i data-lucide="settings"></i>
          <span>Configuración</span>
        </button>
      </li>
    </ul>
  </nav>

  <div class="sidebar-backdrop" id="sidebarBackdrop"></div>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="content">
    <section class="upload-card card">
      <header class="upload-header">
        <h1 class="title">Subir archivos a la plataforma</h1>
        <p class="subtitle">
          Sube tus materiales en formato PDF para que tus alumnos puedan acceder a ellos
          desde cualquier dispositivo.
        </p>
      </header>

      <div class="upload-body">
        <!-- Zona de arrastrar / soltar -->
        <label for="fileInput" class="dropzone">
          <div class="dropzone-icon">
            <i data-lucide="file-plus"></i>
          </div>
          <div class="dropzone-text">
            <span class="dropzone-main">
              Arrastra y suelta tus archivos aquí
            </span>
            <span class="dropzone-secondary">
              o <span class="link">haz clic para seleccionarlos desde tu dispositivo</span>
            </span>
            <span class="dropzone-meta">
              Formato permitido: <strong>PDF</strong> · Tamaño máximo sugerido: <strong>10&nbsp;MB</strong> por archivo
            </span>
          </div>
        </label>
        <input
          id="fileInput"
          class="file-input"
          type="file"
          multiple
          accept="application/pdf"
        />

        <!-- Lista de archivos -->
        <div class="upload-list" id="uploadList">
          <div class="empty-state" id="emptyState">
            <i data-lucide="folder-open"></i>
            <div>
              <p class="empty-title">Aún no has agregado archivos</p>
              <p class="empty-text">
                Cuando selecciones tus PDFs, aparecerán aquí con su nombre, tamaño y estado de subida.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <button class="btn ghost">Salir</button>
    <button class="btn primary">Continuar</button>
  </footer>

  <!-- JS de esta página (aquí va TODO: menú + localStorage + pdf.js) -->
  <script src="../../js/subir-archivo.js"></script>
</body>
</html>
